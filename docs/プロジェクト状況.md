# プロジェクト状況

## 概要

このプロジェクトは「Emoji Generator (絵文字ジェネレーター)」というWebアプリケーションです。ユーザーがテキスト、フォント、色などを指定して、カスタムのテキストベースの絵文字画像を生成することを目的としています。生成された画像はPNG形式でダウンロード可能です。

## 使用技術

- **フロントエンドフレームワーク:** Astro (v4以降)
- **UIフレームワーク:** React (Astro Islandsとして利用)
- **スタイリング:** Tailwind CSS
- **アイコンライブラリ:** lucide-react
- **カラーピッカー:** react-colorful
- **バックエンド:** 既存のAPIサーバー (`http://localhost:8000` に接続)

## 現在の実装状況

### フロントエンド

- **主要コンポーネント:** `src/components/EmojiGenerator.tsx` がアプリケーションの主要なUIとロジックを担っています。
- **UI要素:** テキスト入力、フォント選択、文字色・背景色選択（プリセットカラーとカラーピッカー）、文字揃え（左、中央、右）、文字サイズ固定、自動伸縮無効化のオプションが実装されています。
- **状態管理:** Reactの`useState`フックを使用して、UIの状態が管理されています。
- **API連携:**
  - コンポーネントマウント時に、`http://localhost:8000/fonts` から利用可能なフォントリストを非同期で取得します。
  - テキストや設定の変更に応じて、`http://localhost:8000/emoji` エンドポイントへ画像生成リクエストを非同期で送信します。
  - ローディング状態とエラーハンドリングが実装されており、生成された画像はプレビューエリアに表示され、ダウンロード可能です。
- **ページ構造:** `src/pages/index.astro` がメインページであり、`src/layouts/Layout.astro` を使用して基本的なHTML構造とグローバルスタイル（Tailwind CSS）を適用しています。`EmojiGenerator.tsx` は `client:load` ディレクティブでクライアントサイドでハイドレーションされるAstro Islandとして組み込まれています。

### バックエンド

- フロントエンドは `http://localhost:8000` にデプロイされている既存のAPIサーバーに依存しています。このAPIはフォントリストの提供と絵文字画像の生成を担当します。

### 開発環境

- `package.json` には、開発 (`dev`)、ビルド (`build`)、プレビュー (`preview`)、Astro CLI (`astro`) のスクリプトが定義されています。
- 必要な依存関係（Astro, React, Tailwind CSS関連ライブラリ、lucide-react, react-colorfulなど）は `package.json` に記載されており、`npm install` でインストール可能です。

## 開発継続のための注意点

- **バックエンドAPIの稼働:** 開発を継続するには、`http://localhost:8000` でAPIサーバーが稼働している必要があります。APIの仕様や起動方法については、このプロジェクトのファイルからは直接読み取れません。
- **フォントの読み込み:** `src/lib/api.ts` の `fetchFonts` 関数は、APIからのレスポンス形式に依存しています。APIが `available_fonts` フィールドを返さない場合、エラーが発生します。
- **エラーハンドリング:** 現在のエラー表示は基本的なものです。より詳細なユーザーフィードバックやロギングが必要になる場合があります。
- **広告スペース:** `EmojiGenerator.tsx` には広告スペースのプレースホルダーがあります。将来的に広告を統合する際の考慮が必要です。
